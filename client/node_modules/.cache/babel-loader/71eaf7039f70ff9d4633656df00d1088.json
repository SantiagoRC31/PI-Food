{"ast":null,"code":"import { CLEAN_DETAIL, GET_BY_ID, GET_USER, HANDLE_NUMBER, ORDER, ORDER_BY_SOURCE, PAGINATE } from \"../action/action-type\";\nlet inicialState = {\n  allFood: [],\n  allFoodCopy: [],\n  allFoodBackUp: [],\n  details: {},\n  numPage: 1,\n  currentPage: 0\n};\nfunction rootReducer(state = inicialState, action) {\n  switch (action.type) {\n    case GET_USER:\n      return {\n        ...state,\n        allFood: [...action.payload].splice(0, 9),\n        allFoodCopy: action.payload\n      };\n      break;\n    case PAGINATE:\n      const next_page = state.currentPage + 1;\n      const prev_page = state.currentPage - 1;\n      const firstIndex = action.payload === \"next\" ? next_page * 9 : prev_page * 9;\n      if (action.payload === \"next\" && firstIndex >= state.allFoodCopy.length) {\n        return [...state];\n      } else if (action.payload === \"prev\" && prev_page < 0) {\n        return [...state];\n      }\n      return {\n        ...state,\n        allFood: [...state.allFoodCopy].splice(firstIndex, 9),\n        currentPage: action.payload === \"next\" ? next_page : prev_page\n      };\n    case ORDER:\n      if (action.payload === \"az\") {\n        const allFoodOrder = [...state.allFoodCopy].sort((prev, next) => {\n          if (prev.title > next.title) return 1;\n          if (prev.title < next.title) return -1;\n          return 0;\n        });\n        return {\n          ...state,\n          allFood: [...allFoodOrder].slice(0, 9),\n          allFoodCopy: allFoodOrder,\n          currentPage: 0\n        };\n      } else if (action.payload === \"za\") {\n        const allFoodOrder = [...state.allFoodCopy].sort((prev, next) => {\n          if (prev.title > next.title) return -1;\n          if (prev.title < next.title) return 1;\n          return 0;\n        });\n        return {\n          ...state,\n          allFood: [...allFoodOrder].slice(0, 9),\n          allFoodCopy: allFoodOrder,\n          currentPage: 0\n        };\n      }\n    case GET_BY_ID:\n      return {\n        ...state,\n        details: action.payload\n      };\n    case CLEAN_DETAIL:\n      return {\n        ...state,\n        details: []\n      };\n    case ORDER_BY_SOURCE:\n      const stateCopy = [...state.allFood];\n      let fromApi = stateCopy.filter(allFoodCopy => !isNaN(+allFoodCopy.id));\n      let fromBDD = stateCopy.filter(allFoodCopy => isNaN(+allFoodCopy.id));\n      if (action.payload === \"API\") {\n        return {\n          ...state,\n          allFood: fromApi,\n          currentPage: 0\n        };\n      } else if (action.payload === \"BDD\") {\n        return {\n          ...state,\n          allFood: fromBDD,\n          currentPage: 0\n        };\n      } else {\n        return {\n          ...state\n        };\n      }\n    case HANDLE_NUMBER:\n      return {\n        ...state,\n        numPage: action.payload,\n        currentPage: 0\n      };\n    default:\n      return state;\n      break;\n  }\n}\nexport default rootReducer;","map":{"version":3,"names":["CLEAN_DETAIL","GET_BY_ID","GET_USER","HANDLE_NUMBER","ORDER","ORDER_BY_SOURCE","PAGINATE","inicialState","allFood","allFoodCopy","allFoodBackUp","details","numPage","currentPage","rootReducer","state","action","type","payload","splice","next_page","prev_page","firstIndex","length","allFoodOrder","sort","prev","next","title","slice","stateCopy","fromApi","filter","isNaN","id","fromBDD"],"sources":["C:/Users/usuario/Desktop/PI-Food/client/src/redux/reducer/reducer.js"],"sourcesContent":["import { CLEAN_DETAIL, GET_BY_ID, GET_USER, HANDLE_NUMBER, ORDER, ORDER_BY_SOURCE, PAGINATE } from \"../action/action-type\";\r\n\r\nlet inicialState = {\r\n    allFood:[],\r\n    allFoodCopy:[],\r\n    allFoodBackUp:[],\r\n    details:{},\r\n    numPage: 1,\r\n    currentPage:0\r\n}\r\n\r\n\r\nfunction rootReducer(state = inicialState, action){\r\n    switch(action.type){\r\n        case GET_USER: \r\n            return{\r\n                ...state,\r\n                allFood: [...action.payload].splice(0, 9),\r\n                allFoodCopy: action.payload,\r\n            }\r\n            break; \r\n\r\n        case PAGINATE:\r\n            const next_page = state.currentPage + 1;\r\n            const prev_page = state.currentPage - 1;\r\n            const firstIndex = action.payload === \"next\" ? next_page * 9 : prev_page * 9;\r\n            if(action.payload === \"next\" && firstIndex >= state.allFoodCopy.length){ return[...state]}\r\n            else if (action.payload === \"prev\" && prev_page < 0){ return[...state]}\r\n\r\n            return{\r\n                ...state,\r\n                allFood: [...state.allFoodCopy].splice(firstIndex, 9),\r\n                currentPage: action.payload === \"next\" ? next_page : prev_page\r\n                \r\n            }\r\n\r\n        case ORDER:\r\n            if(action.payload === \"az\"){\r\n                const allFoodOrder = [...state.allFoodCopy].sort((prev, next) => {\r\n                    if(prev.title > next.title)return 1\r\n                    if(prev.title < next.title)return -1\r\n                    return 0\r\n                })\r\n                return{\r\n                    ...state,\r\n                    allFood:[...allFoodOrder].slice(0, 9),\r\n                    allFoodCopy: allFoodOrder,\r\n                    currentPage: 0\r\n                }\r\n            }else if(action.payload === \"za\"){\r\n                const allFoodOrder = [...state.allFoodCopy].sort((prev, next) => {\r\n                    if(prev.title > next.title)return -1\r\n                    if(prev.title < next.title)return 1\r\n                    return 0\r\n                })\r\n                return{\r\n                    ...state,\r\n                    allFood:[...allFoodOrder].slice(0, 9),\r\n                    allFoodCopy: allFoodOrder,\r\n                    currentPage: 0\r\n                }\r\n            }\r\n\r\n\r\n\r\n        case GET_BY_ID:\r\n            return {\r\n              ...state,\r\n              details: action.payload,\r\n            };\r\n          \r\n        case CLEAN_DETAIL:\r\n            return {\r\n              ...state,\r\n              details: []\r\n              \r\n            };\r\n\r\n            case ORDER_BY_SOURCE:\r\n                const stateCopy = [...state.allFood];\r\n                let fromApi = stateCopy.filter((allFoodCopy) => !isNaN(+allFoodCopy.id));\r\n                let fromBDD = stateCopy.filter((allFoodCopy) => isNaN(+allFoodCopy.id));\r\n            \r\n                if (action.payload === \"API\") {\r\n                    return {\r\n                        ...state,\r\n                        allFood: fromApi,\r\n                        currentPage:0\r\n                    };\r\n                } else if (action.payload === \"BDD\") {\r\n                    return {\r\n                        ...state,\r\n                        allFood: fromBDD,\r\n                        currentPage:0\r\n                    };\r\n                } else {\r\n                    return {\r\n                        ...state,\r\n                    };\r\n                }\r\n            \r\n        case HANDLE_NUMBER:\r\n            return {\r\n              ...state,\r\n              numPage: action.payload,\r\n              currentPage: 0\r\n            };\r\n\r\n        default:\r\n            return state\r\n            break;\r\n    }\r\n\r\n}\r\n\r\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}